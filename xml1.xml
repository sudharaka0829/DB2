UserParameter=db2.bufferpools.discovery,/etc/zabbix/scripts/bufferpool4.sh && /bin/cat /etc/zabbix/scripts/bufferpool.json
UserParameter=db2.bufferpools[*],/bin/cat /etc/zabbix/scripts/bufferpool.json | awk -v bufferpool="$1" -v field="$2" '$0 ~ "\"" bufferpool "\""{gsub(/"|,/, ""); print $0}' | awk -F":"                   '{print $2}'


db2.bufferpools[{#BUFFERPOOL},IdxHit]
Character "{" is not allowed

script output 

[
{"{#BUFFERPOOL}":"IBMDEFAULTBP","TotalHit":"99.98","IdxHit":"99.81"},
{"{#BUFFERPOOL}":"BUFFERPOOL16K","TotalHit":"99.93","IdxHit":"99.76"},
{"{#BUFFERPOOL}":"BUFFERPOOL8K","TotalHit":"-","IdxHit":"-"},
{"{#BUFFERPOOL}":"BUFFERPOOL32K","TotalHit":"-","IdxHit":"-"},
{"{#BUFFERPOOL}":"MYDB_32K","TotalHit":"99.97","IdxHit":"99.50"}]


item error

Value of type "string" is not suitable for value type "Numeric (float)". Value ""


do i need to change this?

UserParameter=db2.bufferpools[*],/bin/cat /etc/zabbix/scripts/bufferpool.json | awk -v bufferpool="$1" -v field="$2" '$0 ~ "\"" bufferpool "\""{gsub(/"|,/, ""); print $0}' | awk -F":"                   '{print $2}'
