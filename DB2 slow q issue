Event Monitor Creation:

db2 "CREATE EVENT MONITOR act_stmt FOR ACTIVITIES WRITE TO TABLE"


Querying Event Monitor State:

db2 "SELECT event_mon_state FROM TABLE(MON_GET_EVENT_MONITOR('ACT_STMT', -2))"

Monitoring Slow Queries:

SELECT A.APPLICATION_NAME, A.UOW_ID, A.ACTIVITY_ID, A.EXECUTION_TIME_TOTAL, A.STMT_TEXT FROM TABLE(MON_GET_ACTIVITY(NULL, -2)) AS A WHERE A.EXECUTION_TIME_TOTAL > 1000000 -- 1 second ORDER BY A.EXECUTION_TIME_TOTAL DESC FETCH FIRST 10 ROWS ONLY;
