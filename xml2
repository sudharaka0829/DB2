{"data":[
{"{#BUFFERPOOL}":"IBMDEFAULTBP","TotalHit":"99.98","IdxHit":"99.82"}
,
{"{#BUFFERPOOL}":"BUFFERPOOL16K","TotalHit":"99.93","IdxHit":"99.77"}
,
{"{#BUFFERPOOL}":"BUFFERPOOL8K","TotalHit":"-","IdxHit":"-"}
,
{"{#BUFFERPOOL}":"BUFFERPOOL32K","TotalHit":"-","IdxHit":"-"}
,
{"{#BUFFERPOOL}":"MYDB_32K","TotalHit":"99.96","IdxHit":"99.44"}
]}

{"data":[
{"{#BUFFERPOOL}":"IBMDEFAULTBP","TotalHit":"99.98","IdxHit":"99.82"},
{"{#BUFFERPOOL}":"BUFFERPOOL16K","TotalHit":"99.94","IdxHit":"99.77"},
{"{#BUFFERPOOL}":"BUFFERPOOL8K","TotalHit":"-","IdxHit":"-"},
{"{#BUFFERPOOL}":"BUFFERPOOL32K","TotalHit":"-","IdxHit":"-"},
{"{#BUFFERPOOL}":"MYDB_32K","TotalHit":"99.96","IdxHit":"99.46"}]}


Preprocessing JSON Path: $.data[*].TotalHit
Preprocessing JSON Path: $.data[*].IdxHit

DB2 Bufferpools Discovery
db2.bufferpools.discovery

UserParameter=db2.bufferpools.discovery,/bin/cat /etc/zabbix/bufferpool_data.json
UserParameter=db2.bufferpools[*],/usr/bin/jq -r '.[] | select(.["{#BUFFERPOOL}"] == "$1") | .$2' /etc/zabbix/bufferpool_data.json

Total Hit Ratio for {#BUFFERPOOL}
db2.bufferpools[{#BUFFERPOOL},TotalHit]

Index Hit Ratio for {#BUFFERPOOL}
db2.bufferpools[{#BUFFERPOOL},IdxHit]


[
    {
        "{#BUFFERPOOL}": "IBMDEFAULTBP",
        "TotalHit": "99.98",
        "IdxHit": "99.82"
    },
    {
        "{#BUFFERPOOL}": "BUFFERPOOL16K",
        "TotalHit": "99.93",
        "IdxHit": "99.78"
    },
    {
        "{#BUFFERPOOL}": "BUFFERPOOL8K",
        "TotalHit": "99.50",
        "IdxHit": "99.30"
    },
    {
        "{#BUFFERPOOL}": "BUFFERPOOL32K",
        "TotalHit": "99.60",
        "IdxHit": "99.40"
    },
    {
        "{#BUFFERPOOL}": "MYDB_32K",
        "TotalHit": "99.96",
        "IdxHit": "99.46"
    }
]
